imageUpdater:
  image:
    repository: quay.io/argoprojlabs/argocd-image-updater
    tag: v0.17.0
    pullPolicy: IfNotPresent
  
  replicas: 1
  
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 50m
      memory: 64Mi
  
  config:
    registries:
      - name: Docker Hub
        prefix: fullstackjam/
        api_url: https://registry-1.docker.io
        credentials: username:argocd/argocd-image-updater-secrets
  
  args:
    - run
    - --registries-conf-path=/app/config/registries.conf
    - --interval=3m
  
  env:
    - name: ARGOCD_SERVER
      value: "argocd-server.argocd.svc.cluster.local"
    - name: ARGOCD_GRPC_WEB
      value: "true"
    - name: IMAGE_UPDATER_LOGLEVEL
      value: "info"
    - name: ARGOCD_INSECURE
      value: "true"

serviceAccount:
  create: true
  name: argocd-image-updater

rbac:
  create: true

metrics:
  enabled: true
  serviceMonitor:
    enabled: true
